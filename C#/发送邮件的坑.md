> QQ企业免费邮箱的坑

```C#
限制太多，不能使用465端口发送，
```

> 网易邮箱的坑

```C# 
 client.Port = "25" ;//端口
```



> 发送邮件的完整代码

```C#
 /// <summary>
        ///.net 发送邮件
        /// </summary>
        /// <param name="Subject">邮件的标题</param>
        /// <param name="Body">邮件的内容</param>
        /// <returns></returns>
        public static async Task  SendEmailAsync(string Subject,string Body)
        {
            
            MailMessage mailMsg = new MailMessage();//实例化对象
            mailMsg.From = new MailAddress(AppConfigurtaionServices.Configuration.GetSection("from").Value, "学聘优家");//源邮件地址和发件人
            mailMsg.To.Add(new MailAddress(AppConfigurtaionServices.Configuration.GetSection("to").Value));//收件人地址
            mailMsg.Subject = Subject;//发送邮件的标题
            mailMsg.Body = Body;//发送邮件的内容
            //指定smtp服务地址（根据发件人邮箱指定对应SMTP服务器地址）
            SmtpClient client = new SmtpClient();//格式：smtp.126.com  smtp.164.com
            client.Host = AppConfigurtaionServices.Configuration.GetSection("host").Value;
            //要用587端口 网易云25
            client.Port = Convert.ToInt32(AppConfigurtaionServices.Configuration.GetSection("port").Value) ;//端口
            //加密
            client.EnableSsl = true;
            //不和请求一块发送。
            client.UseDefaultCredentials = false;
            //通过用户名和密码验证发件人身份  密码是授权码
            client.Credentials = new NetworkCredential(AppConfigurtaionServices.Configuration.GetSection("from").Value, AppConfigurtaionServices.Configuration.GetSection("mima").Value); // 
            //如果发送失败，SMTP 服务器将发送 失败邮件告诉我                                                                                                                                                                        //如果发送失败，SMTP 服务器将发送 失败邮件告诉我                                                                                                                                                                  //如果发送失败，SMTP 服务器将发送 失败邮件告诉我                                                                                                                                                                           //如果发送失败，SMTP 服务器将发送 失败邮件告诉我  
            mailMsg.DeliveryNotificationOptions = DeliveryNotificationOptions.OnFailure;
            //发送邮件
            try
            {
                await   client.SendMailAsync(mailMsg);
            }
            catch (SmtpException ex)
            {
            }
        }
```

